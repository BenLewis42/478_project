runApp()
Q
Q
Q
runApp()
library(leaflet)
Q
Q
Q
Q
Q
Q
library(leaflet)
runApp()
runApp()
Q
Q
Q
Q
install.packages("rgdal")
runApp()
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
Q
Q
runApp()
runApp()
Q
Q
Q
Q
runApp()
Q
Q
Q
runApp()
runApp()
Q
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
runApp()
Q
Q
runApp()
Q
Q
Q
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
runApp()
Q
Q
Q
Q
runApp()
runApp()
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
runApp()
Q
Q
Q
Q
Q
Q
Q
runApp()
print(new_years_plot)
library(tidyverse)
new_years_data <- read.csv("data/nyr_data.csv")
new_years_plot <- ggplot(new_years_data, mapping = aes(x= State, y= X2022category)) +
geom_point(color = "cornflowerblue")
print(new_years_plot)
show(new_years_plot)
new_years_data <- read.csv("data/nyr_data.csv")
new_years_plot <- ggplot(new_years_data, aes(x= State, y= X2022category)) +
geom_point(color = "cornflowerblue")
Q
new_years_data <- read.csv("data/nyr_data.csv")
Q
new_years_data <- read.csv("data/nyr_data.csv")
new_years_data <- read.csv("/data/nyr_data.csv")
Q
new_years_data <- read.csv("nyr_data.csv")
new_years_data <- read.csv("data/nyr_data.csv")
new_years_data <- read.csv(file = "data/nyr_data.csv")
Q
new_years_data <- read.csv(file = 'data/nyr_data.csv')
library(ggplot2)
new_years_data <- read.csv(file = 'data/nyr_data.csv')
new_years_data <- read.csv("data/nyr_data.csv")
netflix_data <- read.csv("data/netflix_titles.csv")
netflix_data <- read.csv("data/netflix_titles.csv")
netflix_data <- read.csv("data/netflixtitles.csv")
netflix_data <- read.csv("data/netflixtitles.csv/")
bcg_data <- HSAUR::BCG
View(bcg_data)
bcg_data <- mutate(bcg_data, BCGNoTB = BCGVacc - BCGTB)
library("HSAUR")
library("MASS")
library("Epi")
library("epitools")
library("dplyr")
bcg_data <- mutate(bcg_data, BCGNoTB = BCGVacc - BCGTB)
bcg_data <- mutate(bcg_data, NoVaccNoTB = NoVacc - NoVaccTB)
# Set up
source("analysis.R")
library(dplyr)
library(knitr)
library(ggplot2)
library(tidyverse)
source("analysis.R")
library("dplyr")
library("knitr")
tb_odds_data <- bcg_data %>%
dplyr::select(Study, Year, Odds_BCGVacc_TB, Odds_NoVacc_TB)
kable(tb_odds_data)
bcg_data <- HSAUR::BCG
bcg_data <- mutate(bcg_data, BCGNoTB = BCGVacc - BCGTB)
bcg_data <- mutate(bcg_data, NoVaccNoTB = NoVacc - NoVaccTB)
bcg_data <- mutate(bcg_data, Odds_BCGVacc_TB = BCGTB/NoVaccTB)
bcg_data <- mutate(bcg_data, Odds_NoVacc_TB = BCGNoTB/NoVaccNoTB)
bcg_data <- mutate(bcg_data, Odds_NoVacc_NoTB = BCGNoTB/NoVaccNoTB)
bcg_data <- mutate(bcg_data, BCGNoTB = BCGVacc - BCGTB)
bcg_data <- mutate(bcg_data, NoVaccNoTB = NoVacc - NoVaccTB)
bcg_data <- mutate(bcg_data, Odds_BCGVacc_TB = BCGTB/NoVaccTB)
bcg_data <- mutate(bcg_data, Odds_NoVacc_NoTB = BCGNoTB/NoVaccNoTB)
bcg_data <- mutate(bcg_data, BCGVacc_OddsRatio = Odds_BCGVacc_TB/Odds_NoVacc_NoTB)
bcg_data <- mutate(bcg_data, BCGVaccTB_RR = BCGTB/(BCGTB + NoVaccTB))
bcg_data <- mutate(bcg_data, BCGVaccNoTB_RR = BCGNoTB/(BCGNoTB + NoVaccNoTB))
bcg_data <- mutate(bcg_data, BCGVacc_RR = BCGVaccTB_RR/NoVaccTB_RR)
bcg_data <- mutate(bcg_data, BCGNoTB = BCGVacc - BCGTB)
bcg_data <- mutate(bcg_data, NoVaccNoTB = NoVacc - NoVaccTB)
bcg_data <- mutate(bcg_data, Odds_BCGVacc_TB = BCGTB/NoVaccTB)
bcg_data <- mutate(bcg_data, Odds_NoVacc_NoTB = BCGNoTB/NoVaccNoTB)
bcg_data <- mutate(bcg_data, BCGVacc_OddsRatio = Odds_BCGVacc_TB/Odds_NoVacc_NoTB)
bcg_data <- mutate(bcg_data, BCGVaccTB_RR = BCGTB/(BCGTB + NoVaccTB))
bcg_data <- mutate(bcg_data, BCGVaccNoTB_RR = BCGNoTB/(BCGNoTB + NoVaccNoTB))
bcg_data <- mutate(bcg_data, BCGVacc_RR = BCGVaccTB_RR/BCGVaccNoTB_RR)
source("analysis.R")
library("dplyr")
library("knitr")
tb_odds_data <- bcg_data %>%
dplyr::select(Study, Year, Odds_BCGVacc_TB, Odds_NoVacc_TB)
source("analysis.R")
library("dplyr")
library("knitr")
tb_odds_data <- bcg_data %>%
dplyr::select(Study, Year, BCGVacc_OddsRatio)
kable(tb_odds_data)
source("analysis.R")
library("dplyr")
library("knitr")
library(ggplot2)
library(tidyverse)
tb_odds_plot_year <- ggplot(data = bcg_data, aes(x = Year, y = BCGVacc_OddsRatio, group = 1)) +
geom_point() +
labs(title = "Years vs Odds Ratio of BCG Vaccine", x = "Year", y = "BCG Odds Ratio")
tb_odds_plot_year
source("analysis.R")
library("dplyr")
library("knitr")
library(ggplot2)
library(tidyverse)
tb_odds_plot_latitude <- ggplot(data = bcg_data, aes(x = Latitude, y = BCGVacc_OddsRatio, group = 1)) +
geom_point() +
labs(title = "Latitude vs Odds Ratio of BCG Vaccine", x = "Latitude", y = "BCG Odds Ratio")
tb_odds_plot_latitude
source("analysis.R")
library("dplyr")
library("knitr")
tb_odds_data <- bcg_data %>%
dplyr::select(Study, Year, BCGVacc_OddsRatio)
kable(tb_odds_data)
low_birth_wt_data <- MASS::birthwt
View(low_birth_wt_data)
Smoking <- sum(low_birth_wt_data$smoke == "1" & low_birth_wt_data$low == "1")
low_birth_wt_total <- sum(low_birth_wt_data$low)
Smoking <- sum(low_birth_wt_data$smoke == "1" & low_birth_wt_data$low == "1")
NoSmoking <- 59 - Smoking
SmokingNoLow <- sum(low_birth_wt_data$smoke == "1" & low_birth_wt_data$low == "0")
NoSmokingNoLow <- 130 - SmokingNoLow
Hypertension <- sum(low_birth_wt_data$ht == "1" & low_birth_wt_data$low == "1")
NoHypertension<- 59 - Hypertension
HypertensionNoLow <- sum(low_birth_wt_data$ht == "1" & low_birth_wt_data$low == "0")
NoHypertensionNoLow <- 130 - HypertensionNoLow
NoPrenatal <- sum(low_birth_wt_data$ftv == "0" & low_birth_wt_data$low == "1")
Prenatal <- NoPrenatal - 59
NoPrenatalNoLow <- sum(low_birth_wt_data$ftv == "0" & low_birth_wt_data$low == "0")
PrenatalNoLow <- NoPrenatalNoLow - 130
Birth20 <- sum(low_birth_wt_data$age < "20" & low_birth_wt_data$low == "1", na.rm=TRUE)
NoBirth20 <- 59 - Birth20
Birth20NoLow <- sum(low_birth_wt_data$age < "20" & low_birth_wt_data$low == "0", na.rm=TRUE)
NoBirth20NoLow <- 130 - Birth20NoLow
Prenatal <- 59 - NoPrenatal
PrenatalNoLow <- 130 - NoPrenatalNoLow
low_birth_wt_rr_smoke <- low_birth_wt_rr(Smoking, NoSmoking, SmokingNoLow, NoSmokingNoLow)
low_birth_wt_rr_ht <- low_birth_wt_rr(Hypertension, NoHypertension, HypertensionNoLow, NoHypertensionNoLow)
low_birth_wt_rr_prenatal <- low_birth_wt_rr(Prenatal, NoPrenatal, PrenatalNoLow, NoPrenatalNoLow)
low_birth_wt_rr_birth20 <- low_birth_wt_rr(Birth20, NoBirth20, Birth20NoLow, NoBirth20NoLow)
low_birth_wt_rr <- function(outcome, outcome2, variable, variable2) {
rr <- (outcome/(outcome + outcome2))/(variable/(variable + variable2))
return(rr)
}
low_birth_wt_rr_smoke <- low_birth_wt_rr(Smoking, NoSmoking, SmokingNoLow, NoSmokingNoLow)
low_birth_wt_rr_ht <- low_birth_wt_rr(Hypertension, NoHypertension, HypertensionNoLow, NoHypertensionNoLow)
low_birth_wt_rr_prenatal <- low_birth_wt_rr(Prenatal, NoPrenatal, PrenatalNoLow, NoPrenatalNoLow)
low_birth_wt_rr_birth20 <- low_birth_wt_rr(Birth20, NoBirth20, Birth20NoLow, NoBirth20NoLow)
low_birthwt_rr <- matrix(data = NA, nrow = 4, ncol = 1, byrow = FALSE,
dimnames = list(c("Smoking Status", "Hypertension Status", "Attending 0 prenatal care visits", "Giving Birth before Age 20"),
c("Relative Risking of Low-Birth Weight Infant")))
low_birthwt_rr[1,1] <- low_birth_wt_rr_smoke
low_birthwt_rr[2,1] <- low_birth_wt_rr_ht
low_birthwt_rr[3,1] <- low_birth_wt_rr_prenatal
low_birthwt_rr[4,1] <- low_birth_wt_rr_birth20
View(low_birthwt_rr)
data("bdendo")
data("bdendo")
View(bdendo)
odds_table_hs <- matrix(data = NA, nrow = 2, ncol = 2, byrow = FALSE,
dimnames = list(c("HyperStatus", "NoHyperStatus"), c("EndoCancer", "NoEndoCancer")))
View(odds_table_hs)
CancerTotal <- sum(bdendo$d == "1")
NoCancerTotal <- sum(bdendo$d == "0")
HyperStatus <- sum(bdendo$hyp == "Yes" & bdendo$d == "1")
NoHyperStatus <- 63 - HyperStatus
HyperStatusNoCancer <- sum(bdendo$hyp == "Yes" & bdendo$d == "0")
NoHyperStatusNoCancer <- 252 - HyperStatusNoCancer
odds_table_hs[1,1] <- HyperStatus
odds_table_hs[2,1] <- NoHyperStatus
odds_table_hs[1,2] <- HyperStatusNoCancer
odds_table_hs[2,2] <- NoHyperStatusNoCancer
odds_table_gb <- matrix(data = NA, nrow = 2, ncol = 2, byrow = FALSE,
dimnames = list(c("GallBladder", "NoGallBladder"), c("EndoCancer", "NoEndoCancer")))
GallBladder <- sum(bdendo$gall == "Yes" & bdendo$d == "1")
NoGallBladder <- 63 - GallBladder
GallBladderNoCancer <- sum(bdendo$gall == "Yes" & bdendo$d == "0")
NoGallBladderNoCancer <- 252 - GallBladderNoCancer
odds_table_gb[1,1] <- GallBladder
odds_table_gb[2,1] <- NoGallBladder
odds_table_gb[1,2] <- GallBladderNoCancer
odds_table_gb[2,2] <- NoGallBladderNoCancer
View(odds_table_hs)
View(odds_table_gb)
source("analysis.R")
library("dplyr")
library("knitr")
library(ggplot2)
library(tidyverse)
kable(low_birthwt_rr)
odds_epi_hs <- epitab(odds_table_hs, y = NULL, method = c("oddsratio"), verbose = F)
odds_epi_gb <- epitab(odds_table_gb, y = NULL, method = c("oddsratio"), verbose = F)
odds_epi_ob <- epitab(odds_table_ob, y = NULL, method = c("oddsratio"), verbose = F)
odds_ratio_hs <- odds_epi_hs$tab
odds_ratio_gb <- odds_epi_gb$tab
odds_ratio_ob <- odds_epi_ob$tab
View(odds_epi_gb)
odds_epi_gb[["tab"]]
shiny::runApp('Documents/info478-code')
library(dplyr)
library(ggplot2)
library(tidyverse)
library(leaflet)
library(tigris)
data <- read.csv('data/global_dataset.csv')
gdp_data <- read.csv('data/gdp_dataset.csv')
raw_state_data <- read.csv('data/us_state_vaccinations.csv')
# fix name (probably only a problem for my machine) -Ben
colnames(gdp_data)[1] <- "Country.Name"
# filtered data which have complete disaggregated data
data <- data %>%
filter(
Case...death.data.by.sex. == "Yes"
)
#select 2020 GDP values
gdp_data <- gdp_data %>%
select(Country.Name, X2020)
# print column names
data_colnames <- data %>%
colnames()
# remove NA
data <- na.omit(data)
View(data)
top_15_country_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male.) %>%
rename(Total Deaths = Deaths.where.sex.disaggregated.data.is.available, Male Deaths = Deaths....male.) %>%
top_n(15)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(leaflet)
library(tigris)
data <- read.csv('data/global_dataset.csv')
gdp_data <- read.csv('data/gdp_dataset.csv')
raw_state_data <- read.csv('data/us_state_vaccinations.csv')
# fix name (probably only a problem for my machine) -Ben
colnames(gdp_data)[1] <- "Country.Name"
# filtered data which have complete disaggregated data
data <- data %>%
filter(
Case...death.data.by.sex. == "Yes"
)
#select 2020 GDP values
gdp_data <- gdp_data %>%
select(Country.Name, X2020)
# print column names
data_colnames <- data %>%
colnames()
# remove NA
data <- na.omit(data)
# change proportion of deaths from string to int
# remove % sign
data$Deaths....male. <- gsub("%$","",data$Deaths....male.)
data$Deaths....female. <- gsub("%$","",data$Deaths....female.)
data$Cases....male. <- gsub("%$","",data$Cases....male.)
data$Cases....female. <- gsub("%$","",data$Cases....female.)
# str to int
data$Deaths....male. <- strtoi(data$Deaths....male.)
data$Deaths....female. <- strtoi(data$Deaths....female.)
data$Cases....male. <- strtoi(data$Cases....male.)
data$Cases....female. <- strtoi(data$Cases....female.)
#merge data
data <- data %>%
left_join(gdp_data, by = c("Country" = "Country.Name"))
library(dplyr)
library(ggplot2)
library(tidyverse)
library(leaflet)
library(tigris)
data <- read.csv('data/global_dataset.csv')
gdp_data <- read.csv('data/gdp_dataset.csv')
raw_state_data <- read.csv('data/us_state_vaccinations.csv')
# fix name (probably only a problem for my machine) -Ben
colnames(gdp_data)[1] <- "Country.Name"
# filtered data which have complete disaggregated data
data <- data %>%
filter(
Case...death.data.by.sex. == "Yes"
)
data <- read.csv('data/global_dataset.csv')
setwd("~/Documents/info478-code")
data <- read.csv('data/global_dataset.csv')
gdp_data <- read.csv('data/gdp_dataset.csv')
raw_state_data <- read.csv('data/us_state_vaccinations.csv')
# fix name (probably only a problem for my machine) -Ben
colnames(gdp_data)[1] <- "Country.Name"
# filtered data which have complete disaggregated data
data <- data %>%
filter(
Case...death.data.by.sex. == "Yes"
)
#select 2020 GDP values
gdp_data <- gdp_data %>%
select(Country.Name, X2020)
# print column names
data_colnames <- data %>%
colnames()
# remove NA
data <- na.omit(data)
top_15_country_male_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male.) %>%
rename(Total Deaths = Deaths.where.sex.disaggregated.data.is.available, Male Deaths = Deaths....male.) %>%
top_n(15)
View(data)
top_15_country_male_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male.) %>%
rename(Total Deaths = Deaths.where.sex.disaggregated.data.is.available, Male Deaths = Deaths....male.) %>%
top_n(15)
top_15_country_male_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male.) %>%
rename(Total Deaths = Deaths.where.sex.disaggregated.data.is.available, Male Deaths = Deaths....male.)
top_15_country_male_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male.) %>%
rename(Total_Deaths = Deaths.where.sex.disaggregated.data.is.available, Male_Deaths = Deaths....male.)
top_15_country_male_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male.) %>%
rename(Total_Deaths = Deaths.where.sex.disaggregated.data.is.available, Male_Deaths = Deaths....male.) %>%
top_n(15)
View(top_15_country_male_deaths)
top_15_country_female_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....female.) %>%
rename(Total_Deaths = Deaths.where.sex.disaggregated.data.is.available, Female_Deaths = Deaths....female.) %>%
top_n(15)
View(top_15_country_male_deaths)
View(top_15_country_female_deaths)
top_15_country_male_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male., Deaths....female.) %>%
rename(Total_Deaths = Deaths.where.sex.disaggregated.data.is.available, Male_Deaths = Deaths....male., Female_Deaths = Deaths....female.) %>%
top_n(15)
top_15_country_plot <- ggplot(data = top_15_country_deaths, aes(x = fct_inorder(Country),
y = Total_Deaths, color = Male_Deaths, Female_Deaths)) +
geom_point() +
labs(title = "Top 15 Highest COVID Deaths by Country vs Gender", x = "Country", y = "Deaths from COVID") + theme(axis.text.x = element_text(angle = 90))
top_15_country_deaths <- data %>%
filter(Deaths.date == "2022/03/01") %>%
arrange(desc(Deaths.where.sex.disaggregated.data.is.available)) %>%
select(Country, Deaths.where.sex.disaggregated.data.is.available, Deaths....male., Deaths....female.) %>%
rename(Total_Deaths = Deaths.where.sex.disaggregated.data.is.available, Male_Deaths = Deaths....male., Female_Deaths = Deaths....female.) %>%
top_n(15)
top_15_country_plot <- ggplot(data = top_15_country_deaths, aes(x = fct_inorder(Country),
y = Total_Deaths, color = Male_Deaths, Female_Deaths)) +
geom_point() +
labs(title = "Top 15 Highest COVID Deaths by Country vs Gender", x = "Country", y = "Deaths from COVID") + theme(axis.text.x = element_text(angle = 90))
View(top_15_country_plot)
runApp()
View(top_15_country_plot)
top_15_country_plot
top_15_country_plot <- ggplot(data = top_15_country_deaths, aes(x = fct_inorder(Country),
y = Total_Deaths, color = Male_Deaths:Female_Deaths)) +
geom_point() +
labs(title = "Top 15 Highest COVID Deaths by Country vs Gender", x = "Country", y = "Deaths from COVID") + theme(axis.text.x = element_text(angle = 90))
top_15_country_plot
